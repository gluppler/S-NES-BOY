# 4.1 CPU Cheatsheets

## System Applicability

**This cheatsheet applies to:
- ✅ **NES: Primary focus (6502/2A03 CPU)
- ✅ **: Fully compatible (same 6502/2A03 CPU)
- ⚠️ **SNES: Partially applicable (SNES 65816 is backward compatible with 6502 in emulation mode, but has additional 16-bit instructions)

**Note: SNES 65816 adds 16-bit registers, new addressing modes, and additional instructions. This cheatsheet covers 6502/2A03 only.

## Instruction Reference

| Instruction | Addressing | Bytes | Cycles | Flags Affected |
|------------|-----------|-------|--------|----------------|
| LDA | Immediate | 2 | 2 | N Z |
| LDA | Zero Page | 2 | 3 | N Z |
| LDA | Zero Page,X | 2 | 4 | N Z |
| LDA | Absolute | 3 | 4 | N Z |
| LDA | Absolute,X | 3 | 4–5 | N Z |
| LDA | Absolute,Y | 3 | 4–5 | N Z |
| LDA | (Indirect,X) | 2 | 6 | N Z |
| LDA | (Indirect),Y | 2 | 5–6 | N Z |
| STA | Zero Page | 2 | 3 | — |
| STA | Absolute | 3 | 4 | — |
| STA | Absolute,X | 3 | 5 | — |
| STA | (Indirect,X) | 2 | 6 | — |
| STA | (Indirect),Y | 2 | 6 | — |
| LDX | Immediate | 2 | 2 | N Z |
| LDX | Zero Page | 2 | 3 | N Z |
| LDX | Absolute | 3 | 4 | N Z |
| LDX | Absolute,Y | 3 | 4–5 | N Z |
| LDY | Immediate | 2 | 2 | N Z |
| LDY | Zero Page | 2 | 3 | N Z |
| LDY | Absolute | 3 | 4 | N Z |
| LDY | Absolute,X | 3 | 4–5 | N Z |
| STX | Zero Page | 2 | 3 | — |
| STX | Absolute | 3 | 4 | — |
| STX | Zero Page,Y | 2 | 4 | — |
| STY | Zero Page | 2 | 3 | — |
| STY | Absolute | 3 | 4 | — |
| STY | Zero Page,X | 2 | 4 | — |
| ADC | Immediate | 2 | 2 | N V Z C |
| ADC | Zero Page | 2 | 3 | N V Z C |
| ADC | Absolute | 3 | 4 | N V Z C |
| SBC | Immediate | 2 | 2 | N V Z C |
| SBC | Zero Page | 2 | 3 | N V Z C |
| SBC | Absolute | 3 | 4 | N V Z C |
| INC | Zero Page | 2 | 5 | N Z |
| INC | Absolute | 3 | 6 | N Z |
| INC | Zero Page,X | 2 | 6 | N Z |
| INC | Absolute,X | 3 | 7 | N Z |
| DEC | Zero Page | 2 | 5 | N Z |
| DEC | Absolute | 3 | 6 | N Z |
| DEC | Zero Page,X | 2 | 6 | N Z |
| DEC | Absolute,X | 3 | 7 | N Z |
| INX | Implied | 1 | 2 | N Z |
| DEX | Implied | 1 | 2 | N Z |
| INY | Implied | 1 | 2 | N Z |
| DEY | Implied | 1 | 2 | N Z |
| AND | Immediate | 2 | 2 | N Z |
| AND | Zero Page | 2 | 3 | N Z |
| AND | Absolute | 3 | 4 | N Z |
| ORA | Immediate | 2 | 2 | N Z |
| ORA | Zero Page | 2 | 3 | N Z |
| ORA | Absolute | 3 | 4 | N Z |
| EOR | Immediate | 2 | 2 | N Z |
| EOR | Zero Page | 2 | 3 | N Z |
| EOR | Absolute | 3 | 4 | N Z |
| ASL | Accumulator | 1 | 2 | N Z C |
| ASL | Zero Page | 2 | 5 | N Z C |
| ASL | Absolute | 3 | 6 | N Z C |
| LSR | Accumulator | 1 | 2 | N Z C |
| LSR | Zero Page | 2 | 5 | N Z C |
| LSR | Absolute | 3 | 6 | N Z C |
| ROL | Accumulator | 1 | 2 | N Z C |
| ROL | Zero Page | 2 | 5 | N Z C |
| ROL | Absolute | 3 | 6 | N Z C |
| ROR | Accumulator | 1 | 2 | N Z C |
| ROR | Zero Page | 2 | 5 | N Z C |
| ROR | Absolute | 3 | 6 | N Z C |
| BCC | Relative | 2 | 2–3 | — |
| BCS | Relative | 2 | 2–3 | — |
| BEQ | Relative | 2 | 2–3 | — |
| BMI | Relative | 2 | 2–3 | — |
| BNE | Relative | 2 | 2–3 | — |
| BPL | Relative | 2 | 2–3 | — |
| BVC | Relative | 2 | 2–3 | — |
| BVS | Relative | 2 | 2–3 | — |
| JMP | Absolute | 3 | 3 | — |
| JMP | Indirect | 3 | 5 | — |
| JSR | Absolute | 3 | 6 | — |
| RTS | Implied | 1 | 6 | — |
| PHA | Implied | 1 | 3 | — |
| PHP | Implied | 1 | 3 | — |
| PLA | Implied | 1 | 4 | N Z |
| PLP | Implied | 1 | 4 | All |
| TSX | Implied | 1 | 2 | N Z |
| TXS | Implied | 1 | 2 | — |
| CLC | Implied | 1 | 2 | C |
| SEC | Implied | 1 | 2 | C |
| CLI | Implied | 1 | 2 | I |
| SEI | Implied | 1 | 2 | I |
| CLV | Implied | 1 | 2 | V |
| CLD | Implied | 1 | 2 | D |
| SED | Implied | 1 | 2 | D |
| CMP | Immediate | 2 | 2 | N Z C |
| CMP | Zero Page | 2 | 3 | N Z C |
| CMP | Absolute | 3 | 4 | N Z C |
| CPX | Immediate | 2 | 2 | N Z C |
| CPX | Zero Page | 2 | 3 | N Z C |
| CPX | Absolute | 3 | 4 | N Z C |
| CPY | Immediate | 2 | 2 | N Z C |
| CPY | Zero Page | 2 | 3 | N Z C |
| CPY | Absolute | 3 | 4 | N Z C |
| BIT | Zero Page | 2 | 3 | N V Z |
| BIT | Absolute | 3 | 4 | N V Z |
| NOP | Implied | 1 | 2 | — |
| BRK | Implied | 1 | 7 | B I |
| RTI | Implied | 1 | 6 | All |

**Notes: 
- Branch cycles: +1 if taken, +1 if page crossed
- Indexed cycles: +1 if page crossed
- Flags: N=Negative, V=Overflow, Z=Zero, C=Carry, B=Break, I=Interrupt, D=Decimal

## Addressing Mode Quick Table

| Mode | Syntax | Example | Bytes | Cycles |
|------|--------|---------|-------|--------|
| Immediate | #value | `LDA #$42` | 2 | 2 |
| Zero Page | addr | `LDA $42` | 2 | 3 |
| Zero Page,X | addr,X | `LDA $42,X` | 2 | 4 |
| Zero Page,Y | addr,Y | `LDA $42,Y` | 2 | 4 |
| Absolute | addr | `LDA $1234` | 3 | 4 |
| Absolute,X | addr,X | `LDA $1234,X` | 3 | 4–5 |
| Absolute,Y | addr,Y | `LDA $1234,Y` | 3 | 4–5 |
| Indirect | (addr) | `JMP ($1234)` | 3 | 5 |
| Indirect,X | (addr,X) | `LDA ($42,X)` | 2 | 6 |
| Indirect,Y | (addr),Y | `LDA ($42),Y` | 2 | 5–6 |
| Relative | label | `BEQ label` | 2 | 2–3 |

## Flag Effects

| Flag | Bit | Set By | Cleared By | Meaning |
|------|-----|--------|------------|---------|
| N | 7 | MSB=1 | MSB=0 | Negative (signed) |
| V | 6 | Overflow | No overflow | Overflow (signed) |
| — | 5 | Always 1 | — | Unused |
| B | 4 | BRK, IRQ/NMI | — | Break |
| D | 3 | SED | CLD | Decimal mode |
| I | 2 | SEI | CLI | Interrupt disable |
| Z | 1 | Result=0 | Result≠0 | Zero |
| C | 0 | Carry/borrow | No carry/borrow | Carry |

## Register Quick Reference

| Register | Size | Purpose | Notes |
|---------|------|---------|-------|
| A | 8-bit | Accumulator | Primary arithmetic/logic |
| X | 8-bit | Index | Loops, indexing, stack |
| Y | 8-bit | Index | Loops, indexing |
| SP | 8-bit | Stack Pointer | Points to $0100–$01FF |
| PC | 16-bit | Program Counter | Current instruction |
| P | 8-bit | Status | Flags (N V - B D I Z C) |

## Stack Operations

| Operation | Instruction | Cycles | Effect |
|-----------|-------------|--------|--------|
| Push A | PHA | 3 | SP--, A → [SP] |
| Push P | PHP | 3 | SP--, P → [SP] |
| Pull A | PLA | 4 | [SP] → A, SP++ |
| Pull P | PLP | 4 | [SP] → P, SP++ |
| Transfer SP→X | TSX | 2 | SP → X |
| Transfer X→SP | TXS | 2 | X → SP |

## Critical Notes

- **Page boundary crossing: +1 cycle for branches and indexed addressing
- **Zero page wrap: $00FF + 1 = $0000 (no page crossing)
- **Stack location: Fixed at $0100–$01FF, cannot be relocated
- **Branch range: ±127 bytes (signed 8-bit offset)
- **Indirect JMP bug: If address is $XXFF, low byte wraps (reads $XXFF, $XX00)

## Cross-References

- Related Fundamentals: 1.2 (6502 CPU Fundamentals)
- Related Advanced Fundamentals: 2.1 (CPU Timing & Cycles)
- Related Core Concepts: 3.1 (Game Loop), 3.2 (Data-Oriented Design)
- Related Cheatsheets: 4.3 (Memory Cheatsheets), 4.4 (Timing Cheatsheets)
