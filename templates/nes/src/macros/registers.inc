; ============================================================================
; Register Macros
; ============================================================================
; Macros for saving/restoring CPU registers
; Per NES documentation: Register preservation in interrupts
; ============================================================================

; ============================================================================
; Save All Registers
; ============================================================================
; Saves A, X, Y registers to stack
; ============================================================================
.macro save_registers
    PHA
    TXA
    PHA
    TYA
    PHA
.endmacro

; ============================================================================
; Restore All Registers
; ============================================================================
; Restores A, X, Y registers from stack
; ============================================================================
.macro restore_registers
    PLA
    TAY
    PLA
    TAX
    PLA
.endmacro

; ============================================================================
; Save A and X Registers
; ============================================================================
.macro save_ax
    PHA
    TXA
    PHA
.endmacro

; ============================================================================
; Restore A and X Registers
; ============================================================================
.macro restore_ax
    PLA
    TAX
    PLA
.endmacro

; ============================================================================
; Save A and Y Registers
; ============================================================================
.macro save_ay
    PHA
    TYA
    PHA
.endmacro

; ============================================================================
; Restore A and Y Registers
; ============================================================================
.macro restore_ay
    PLA
    TAY
    PLA
.endmacro
